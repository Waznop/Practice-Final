# Practice Final

**THIS IS THE PRACTICE FINAL. IT DOES NOT COUNT FOR POINTS.**

**The following words will be on the top of the real final:**

Read all instructions before you begin.
* This exam is open-notes. You may look at your notes, a textbook, the course materials, or any other online resource.
* You may NOT ask anyone for help. You must complete the exam entirely on your own. Asking for help or answers from others counts as cheating and will result in getting a 0 on the entire midterm.
* If an emergency occurs during the exam, you must notify the instructor as soon as possible.

## Programming section

This section has a total of 60 points. The written section which is entirely on Gradescope has a total of 40 points.

For the programming section, each of the 4 questions gives you a maximum of 20 points. **We will only count your best 3 out of 4 questions**. This means that you can get 60/60 by only completing 3 questions. This also means that you can't get over 60/60 even if you attempt all 4 questions. Submit your code to `Practice Final - Programming` on Gradescope.

## File structure

* `Makefile` - Configuration for `make`.
* `main.cpp` - A sample main program written for you in case you want to test your functions by running them. Feel free to modify it.
* `poke_quiz.cpp` - Your functions go here.
* `poke_quiz.h` - Header file for `poke_quiz.cpp`, already written for you.
* `poke_quiz_test.cpp` - A set of unit tests written for you to test your code. They are not complete and you are encouraged to write more. However, they will not be graded.
* `poke_quiz_complete` - An executable demo generated by a correct implementation.
* `googletest/` - Contains code for the GoogleTest framework.
* `lib/` - Contains library files you may reference.
    * `poke_quiz_correct.h` - Contains a correct version of each function in `poke_quiz.h`. See note 3 below.
    * `poke_quiz_correct.o` - Already compiled implementation of functions in `poke_quiz_correct.h`.
    * `test_utils.h` - A helper file to keep `poke_quiz_test.cpp` relatively clean.

**1. Do not change any files other than `main.cpp`, `poke_quiz.cpp` and `poke_quiz_test.cpp`!**

**2. Only `poke_quiz.cpp` will count for grades.**

**3. You're allowed to call `check_answer_correct()` in Question 3. Beside that, you're not allowed to call any function in `poke_quiz_correct.h` in your code. Failure to comply will result in a 0 for the affected questions.**

## Make commands

You have the same `make` commands (format, build, test, all, clean) as usual.

## Question 1: `get_answer()`

```c++
int get_answer();
```

You're trying to teach math to Pikachu, but you don't understand what he's saying. After realizing he can only pronounce the syllables `pi`, `ka` and `chu`, you decide to write a diction software to convert them into numbers.

Write the `get_answer()` function to do the following:

- Using a loop, keep asking for user input until Pikachu says `chu` or an unrecognizable syllable (not `pi`, `ka` or `chu`).
- Keep track of a count that starts at 0. Increment it by 1 for each `pi` and decrement it by 1 for each `ka` that Pikachu says.
- Return the final count.

Example:
```
Input: pi ka pi chu -> return 1
Input: ka ka chew -> return -2 (chew is an unrecognizable syllable)
```

Some unit tests have been written for you in `TEST(PokeQuizTest, GetAnswer)`. You're encouraged to write more and test your code using `make test`.

## Question 2: `check_answer()`

```c++
bool check_answer(int x, char op, int y, int answer, bool& correct);
```

Now that you can understand Pikachu, you try to have him answer some math questions. You decide to write a simple program to check whether his answer is correct.

Write the `check_answer()` function that sets whether Pikachu's answer is correct and returns whether the question is valid:

- If `op` is not `'+'`, `'-'`, `'*'`, `'/'` or `'%'`, return `false`.
- If `op` is `'/'` or `'%'` and `y` is `0`, return `false`.
- Otherwise, set `correct` to whether `answer` is correct, then return `true`.
    - eg. if `x` is `2`, `op` is `+`, `y` is `3` and `answer` is `5`, set `correct` to `true` because 2 + 3 = 5.

Example:
```c++
bool correct = false;
bool success = check_answer(2, '+', 3, 5, correct);
// success and correct are now both true.
```

Some unit tests have been written for you in `TEST(PokeQuizTest, CheckAnswer)`. You're encouraged to write more and test your code using `make test`.

## Question 3: `check_answers()`

```c++
bool check_answers(const vector<int>& xs, const vector<char>& ops,
                   const vector<int>& ys, const vector<int>& answers,
                   int& num_correct);
```

Math takes practice, so you want to ask Pikachu a lot of math questions. Grading takes time, so you decide to write a program to check multiple answers at once.

Write the `check_answers()` function that sets the number of correct answers and returns whether the input arguments are valid:

- If `xs`, `ops`, `ys` and `answers` don't all have the same size, return `false`.
- Each index in the above vectors corresponds to a separate question. Eg. the first question is `xs[0]` `ops[0]` `ys[0]` and Pikachu's answer to it is `answers[0]`. If any of questions are invalid (see Question 2), return `false` without modifying `num_correct`.
- Otherwise, set `num_correct` to the number of correct answers, then return `true`.

**Hint**: You may call `check_answer_correct(xs[i], ops[i], ys[i], answers[i], correct)` to store whether the `i`th answer is correct in some bool variable `correct`. Alternatively, you can call your own `check_answer()` if you feel confident about its correctness.

Example:
```c++
int num_correct = 0;
bool success = check_answers({4, 2}, {'+', '-'}, {3, -1}, {6, 3}, num_correct);
// success is now true and num_correct is now 1.
// That's because 4 + 3 = 7 not 6 (incorrect), but 2 - -1 = 3 (correct).
```

Some unit tests have been written for you in `TEST(PokeQuizTest, CheckAnswers)`. You're encouraged to write more and test your code using `make test`.

## Question 4: `frequent_numbers()`

```c++
set<int> frequent_numbers(const vector<vector<int>>& number_lists);
```

After putting Pikachu through thousands of questions, you wonder if some numbers came up more often than others. You decide to write a program to identify all numbers that appeared more than once.

Write the `frequent_numbers()` function that takes in a 2D vector of ints and returns a set containing each int that appeared more than once.

**Hint**: You may want to populate a map of numbers to the amount of times they appear as you iterate through each element of the 2D vector. Then, you can add those that appeared more than once to your output set.

Example:
```c++
set<int> more_than_once = frequent_numbers({{1, 3, 4, 2}, {5, 6, 2, 1}});
// more_than_once is now {1, 2}.
// That's because 1 and 2 both appeared twice, whereas 3, 4, 5 and 6 only appeared once.
```

Some unit tests have been written for you in `TEST(PokeQuizTest, FrequentNumbers)`. You're encouraged to write more and test your code using `make test`.

## Rubric

* (60 points) Programming
  * (20 points each) Autograder results for best 3 of `get_answer()`, `check_answer()`, `check_answers()` and `frequent_numbers()`
  * (1 extra point) TODO comment check in `poke_quiz.cpp`
  * (1 extra point) Style check in `poke_quiz.cpp`
* (40 points) Written â€“ see Gradescope for point breakdowns